<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>2021级6班-搜索</title>
    <meta name="description" content="搜索本站内容">
    <meta name="keywords" content="搜索,2021级6班,纪念网站">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE;chrome=1">
    <link rel='stylesheet' href='template/pc/skin/css/owl.carousel.css' type='text/css' media='all'>
    <link rel='stylesheet' href='template/pc/skin/css/jquery.mcustomscrollbar.min.css' type='text/css' media='all'>
    <link rel='stylesheet' href='template/pc/skin/css/animate.css' type='text/css' media='all'>
    <link rel='stylesheet' href='template/pc/skin/css/fontello.css' type='text/css' media='all'>
    <link rel='stylesheet' href='template/pc/skin/css/bootstrap.min.css' type='text/css' media='all'>
    <link rel='stylesheet' href='template/pc/skin/css/style.css' type='text/css' media='all'>
    <script type='text/javascript' src='template/pc/skin/js/jquery.js'></script>
    <script type='text/javascript' src='template/pc/skin/js/jquery-migrate.min.js'></script>
    <!--[if lt IE 9]>
    <script type='text/javascript' src='template/pc/skin/js/html5shiv.js'></script>
    <![endif]-->
    <!--[if lt IE 9]>
    <script type='text/javascript' src='template/pc/skin/js/respond.min.js'></script>
    <![endif]-->
</head>
<body class="search-page off-canvas-nav-left">
    <div id="header" class="navbar-fixed-top">
        <div class="container">
            <h1 class="logo"> <a href="index.html" title="202106" style="background-image: url(img/logo.jpg);"></a>  </h1>
            <div role="navigation" class="site-nav  primary-menu">
                <div class="menu-fix-box">
                    <ul id="menu-navigation" class="menu">
                        <li><a href="index.html">首页</a></li>
                        <li><a href="renwu.html">人物 </a></li>
                        <li><a href="thanks.html">致谢人名单 </a></li>
                        <li class="menu-item-has-children ">
                            <a href="guanyu.html">关于</a>
                            <ul class="sub-menu">
                                <li><a href="guanyu.html">关于我们</a></li>
                                <li><a href="yinsi.html">隐私说明</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="right-nav">
                <div class="js-toggle-message">
                    <button id="sitemessage" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="icon-megaphone"></i> </button>
                    <div class="dropdown-menu" role="menu" aria-labelledby="sitemessage">
                        <ul>
                            <li class="first"><span class="time">25-06-25 </span><a href="#">中考必胜！</a></li>
                            <li><span class="time">25-06-01 </span><a href="#">儿童节快乐！</a></li>
                            <li><span class="time">25-05-31 </span><a href="#">端午节快乐！</a></li>
                            <li><span class="time">25-05-01 </span><a href="#">劳动节快乐！</a></li>
                            <li><span class="time">25-01-28 </span><a href="#">2025年新年快乐！</a></li>
                        </ul>
                        <div class="more-messages"><a href="https://weibo.com/">更多</a></div>
                    </div>
                </div>
                <button class="js-toggle-search"><i class=" icon-search"></i></button>
            </div>
        </div>
    </div>
    <div id="page-content">
        <div class="container">
            <div class="row">
                <div class="article col-xs-12 col-sm-8 col-md-8">
                    <div class="breadcrumbs"><span itemprop="itemListElement"><i class="icon-location-2"></i></span> <a href='index.html' class='crumb'>首页</a> &gt; 搜索结果  </div>
                    <div class="search-form-box" style="margin-bottom:20px;">
                        <form class="sidebar-search" method="get" action="search.html">
                            <input class="form-search" type="text" name="keywords" id="search-keywords" placeholder="键入搜索关键词" style="width:70%;display:inline-block;">
                            <button type="submit" id="btn-search" style="display:inline-block;"><i class="icon-search"></i> 搜索</button>
                        </form>
                    </div>
                    <div class="ajax-load-box posts-con" id="search-result-list">
                        <!-- 静态假数据示例 -->
                        <div class="ajax-load-con content excerpt-one">
                            <div class="content-box posts-image-box">
                                <div class="posts-default-title">
                                    <div class="post-entry-categories"><a href='#'>科技</a><a href='#'>日常</a></div>
                                    <h2><a href="#" title="如何做一个可以回复指令的TG机器人？">如何做一个可以回复指令的TG机器人？</a></h2>
                                </div>
                                <p class="focus">
                                    <a href="#" class="thumbnail">
                                        <span class="item"><span class="thumb-span"><img src="img/25-04-05-2.png" class="thumb"></span></span>
                                    </a>
                                </p>
                                <div class="posts-default-content">
                                    <div class="posts-text">我们的目的是做一个可以回复指令的TG机器人,首要的事,应该是创建几条指令.打开与 @BotFather 的对话,发送指令/mybots打开上一节创建的机器人,并点击Edit Bot.</div>
                                    <div class="posts-default-info">
                                        <ul>
                                            <li class="post-author">
                                                <div class="avatar"><img alt='' srcset='template/pc/skin/img/admin.png' class='avatar avatar-96 photo' height='96' width='96'></div>
                                                <a> BigJackson</a>
                                            </li>
                                            <li class="ico-cat"><i class="icon-list-2"></i> <a href="renwu.html">潮·科技 </a></li>
                                            <li class="ico-time"><i class="icon-clock-1"></i> 2025-04-05</li>
                                            <li class="ico-like"><i class="icon-heart"></i> 999+ </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ajax-load-con content excerpt-one">
                            <div class="content-box posts-image-box">
                                <div class="posts-default-title">
                                    <div class="post-entry-categories"><a href='#'>新闻</a><a href='#'>小米</a></div>
                                    <h2><a href="#" title="身家超钟睒睒！雷军成为中国新首富 小米市值突破1.4万亿港元">身家超钟睒睒！雷军成为中国新首富 小米市值突破1.4万亿港元</a></h2>
                                </div>
                                <p class="focus">
                                    <a href="#" class="thumbnail">
                                        <span class="item"><span class="thumb-span"><img src="img/25.02.27-1.jpg" class="thumb"></span></span>
                                    </a>
                                </p>
                                <div class="posts-default-content">
                                    <div class="posts-text">小米集团股价在这一天实现了显著增长，涨幅接近6%，最高报价达到56.8港元。这一表现使得小米集团的总市值成功突破了1.4万亿港元的大关，创下了历史新高。</div>
                                    <div class="posts-default-info">
                                        <ul>
                                            <li class="post-author">
                                                <div class="avatar"><img alt='' srcset='template/pc/skin/img/admin.png' class='avatar avatar-96 photo' height='96' width='96'></div>
                                                <a> BigJackson</a>
                                            </li>
                                            <li class="ico-cat"><i class="icon-list-2"></i> <a href="renwu.html">潮·科技 </a></li>
                                            <li class="ico-time"><i class="icon-clock-1"></i> 2025-02-27</li>
                                            <li class="ico-like"><i class="icon-heart"></i> 999+ </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 可继续添加更多静态搜索结果 -->
                    </div>
                    <div id="no-result" style="display:none;text-align:center;color:#888;margin:40px 0;">未找到相关内容</div>
                </div>
                <div class="sidebar col-xs-12 col-sm-4 col-md-4">
                    <!-- 侧边栏内容直接复用index.html，可复制粘贴 -->
                    <div class="widget widget_suxingme_postlist">
                        <h3><span>每日一曲</span></h3>
                        <a>这个没什么用<br>(只有电脑端和平板端能看到，<br>就当个彩蛋，不定期更新)</a>
                        <ul class="recent-posts-widget">
                            <li class="one">
                                <a href="https://www.bilibili.com/video/BV1BcV2zLEd4/?spm_id_from=333.337.search-card.all.click" title="【MV】うっちゃい/ゆーり【オリジナル】">
                                    <div class="overlay"></div>
                                    <img class="thumbnail" src="img/25-06-02.avif" alt="【MV】うっちゃい/ゆーり【オリジナル】">
                                    <div class="title">
                                        <span>2025-06-02</span>
                                        <h4>【MV】うっちゃい/ゆーり【オリジナル】</h4>
                                    </div>
                                </a>
                            </li>
                            <li class="others">
                                <div class="image"><a href="https://www.bilibili.com/video/BV1XNoBYVEgz/?spm_id_from=333.337.search-card.all.click" title="【MV】隙/ゆーり【オリジナル】"> <img src="img/25-06-01.avif" alt="【MV】隙/ゆーり【オリジナル】" class="thumbnail"> </a></div>
                                <div class="title">
                                    <h4><a href="https://www.bilibili.com/video/BV1XNoBYVEgz/?spm_id_from=333.337.search-card.all.click" title="【MV】隙/ゆーり【オリジナル】">【MV】隙/ゆーり【オリジナル】</a></h4>
                                    <span>2025-06-01</span>
                                </div>
                            </li>
                            <li class="others">
                                <div class="image"><a href="https://www.bilibili.com/video/BV19i421f7AE/?spm_id_from=333.337.search-card.all.click" title="【MV】ハート111/ゆーり【オリジナル】"> <img src="img/25-05-31.avif" alt="【MV】ハート111/ゆーり【オリジナル】" class="thumbnail"> </a></div>
                                <div class="title">
                                    <h4><a href="https://www.bilibili.com/video/BV19i421f7AE/?spm_id_from=333.337.search-card.all.click" title="【MV】ハート111/ゆーり【オリジナル】">【MV】ハート111/ゆーり【オリジナル】</a></h4>
                                    <span>2025-05-31</span>
                                </div>
                            </li>
                            <li class="others">
                                <div class="image"><a href="https://www.bilibili.com/video/BV1P2LGzeEHv/?spm_id_from=333.337.search-card.all.click" title="愛♡スクリ～ム！"> <img src="img/25-05-30.avif" alt="愛♡スクリ～ム！" class="thumbnail"> </a></div>
                                <div class="title">
                                    <h4><a href="https://www.bilibili.com/video/BV1P2LGzeEHv/?spm_id_from=333.337.search-card.all.click" title="愛♡スクリ～ム！">愛♡スクリ～ム！</a></h4>
                                    <span>2025-05-30</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                        <!--<div class="widget widget_suxingme_hotpost">
                            <h3><span>热门作品</span></h3>
                            <ul class="widget_suxingme_post">
                                <li>
                                    <a href="https://www.bilibili.com/video/BV1Au4y1y7dd/" title="比格鹿它使您的桌面更清洁">
                                        <div class="overlay"></div>
                                        <img class="thumbnail" src="img/23-09-04.avif" alt="比格鹿它使您的桌面更清洁">
                                        <div class="title">
                                            <div class="entry-meta"><span>2023-09-04</span></div>
                                            <h4>比格鹿它使您的桌面更清洁</h4>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.bilibili.com/video/BV1fu4y1p7Fv" title="一起充电！！！">
                                        <div class="overlay"></div>
                                        <img class="thumbnail" src="img/23-10-22.avif" alt="一起充电！！！">
                                        <div class="title">
                                            <div class="entry-meta"><span>2023-10-22</span></div>
                                            <h4>一起充电！！！</h4>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://www.bilibili.com/video/BV1wm421x7ZZ" title="我还需要安装自己的移动电源电池吗？">
                                        <div class="overlay"></div>
                                        <img class="thumbnail" src="img/24-10-07.avif" alt="我还需要安装自己的移动电源电池吗？">
                                        <div class="title">
                                            <div class="entry-meta"><span>2024-10-07</span></div>
                                            <h4>我还需要安装自己的移动电源电池吗？</h4>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>-->
                        <div class="widget suxingme_tag">
                            <h3><span>热门标签</span></h3>
                            <div class="widge_tags">
                                <div class="tag-items">
                                    <a href="rw/cby.html" class="tag-item">陈老师</a>
                                    <a href="dym.html" class="tag-item">邓一明</a>
                                    <a href="ghy.html" class="tag-item">关涵予</a>
                                    <a href="grh.html" class="tag-item">高瑞含</a>
                                    <a href="gzy.html" class="tag-item">郭祉钰</a>
                                    <a href="hsy.html" class="tag-item">郝思瑶</a>
                                    <a href="ht.html" class="tag-item">桓涛</a>
                                    <a href="jhy.html" class="tag-item">鞠涵羿</a>
                                    <a href="llj.html" class="tag-item">刘利锦</a>
                                    <a href="lxc.html" class="tag-item">吕宣铖</a>
                                    <a href="lyr.html" class="tag-item">历悦然</a>
                                    <a href="psy.html" class="tag-item">庞斯雅</a>
                                    <a href="pxy.html" class="tag-item">朴欣怡</a>
                                    <a href="qy.html" class="tag-item">曲妍</a>
                                    <a href="rxs.html" class="tag-item">任新爽</a>
                                    <a href="slm.html" class="tag-item">孙澜铭</a>
                                    <a href="sxg.html" class="tag-item">孙晓耕</a>
                                    <a href="wbr.html" class="tag-item">王泊然</a>
                                    <a href="wyh.html" class="tag-item">王一涵</a>
                                    <a href="xc.html" class="tag-item">萧畅</a>
                                </div>
                            </div>
                        </div>
                    <div class="widget suxingme_social">
                        <h3><span>关注我们！</span></h3>
                        <div class="attentionus">
                            <ul class="items clearfix">
                                <span class="social-widget-link social-link-weibo"> <span class="social-widget-link-count"><i class="icon-weibo"></i>BigJackson_</span> <span class="social-widget-link-title">新浪微博</span> <a href="https://weibo.com/u/7814538848" target="_self" rel="nofollow"></a></span>
                                <span class="social-widget-link social-link-tencent-weibo"> <img src="img/bilibili.webp" alt="B站" style="width:16px;height:16px;vertical-align:middle;margin-right:5px;"> <span class="social-widget-link-count"></i>B站</span> <span class="social-widget-link-title">Bilibili</span> <a href="https://space.bilibili.com/1549550569" target="_self" rel="nofollow"></a> </span>
                                <span class="social-widget-link social-link-email"> <span class="social-widget-link-count"><i class="icon-mail"></i>tud8951@bigjackson.top</span> <span class="social-widget-link-title">邮箱</span> <a href="mailto:tud8951@bigjackson.top" target="_self" rel="nofollow"></a> </span>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
    <div id="footer" class="two-s-footer clearfix">
        <div class="footer-box">
            <div class="container">
                <div class="social-footer">
                    <a class="weiboii" href="https://weibo.com/u/7814538848" target="_self"><i class="icon-weibo"></i></a>
                    <a class="ttweiboii" href="https://space.bilibili.com/1549550569" target="_self" rel="nofollow"><img src="img/bilibili.webp" alt="B站" style="width:16px;height:16px;vertical-align:middle;margin-right:5px;"></a>
                    <a class="mailii" href="mailto:tud8951@bigjackson.top" target="_self"><i class="icon-mail-2"></i></a>
                </div>
                <div class="nav-footer">
                    <a href="index.html">首页</a>
                    <a href="renwu.html">人物 </a>
                    <a href="thanks.html">致谢人名单 </a>
                    <a href="guanyu.html">关于</a>
                </div>
                <div class="copyright-footer">
                    <p>  © 2022-2025 BigJackson All Copyright Reserved<a href="javascript:;" target="_self"></a> &nbsp;&nbsp;<a href="javascript:;" rel="nofollow"></a></p>
                </div>
                <div class="links-footer"> <span>友情链接：</span> <a href="https://weibo.com/u/7814538848" target="_self">微博 </a><a href="https://space.bilibili.com/1549550569" target="_self">B站 </a><a href="mailto:tud8951@bigjackson.top" target="_self">邮箱 </a></div>
            </div>
        </div>
    </div>
    <script type='text/javascript' src='template/pc/skin/js/jquery.sticky-kit.min.js'></script>
    <script type='text/javascript' src='template/pc/skin/js/bootstrap.min.js'></script>
    <script type='text/javascript' src='template/pc/skin/js/jquery.mcustomscrollbar.concat.min.js'></script>
    <script type='text/javascript' src='template/pc/skin/js/suxingme.js'></script>
    <script type='text/javascript' src='template/pc/skin/js/jquery.bootstrap-autohidingnavbar.min.js'></script>
    <script type='text/javascript' src='template/pc/skin/js/owl.carousel.min.js'></script>
    <script type='text/javascript' src='template/pc/skin/js/wow.min.js'></script>
    <script>
    // 自动填充搜索框
    (function() {
        var url = new URL(window.location.href);
        var kw = url.searchParams.get('keywords');
        if(kw) {
            document.getElementById('search-keywords').value = kw;
        }
    })();
    </script>
    <script>
    // 1. 动态抓取多个页面的文章
    async function fetchArticlesFromPage(url) {
      try {
        const res = await fetch(url);
        const text = await res.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(text, 'text/html');
        // 选取所有文章卡片
        const cards = doc.querySelectorAll('.ajax-load-con.content.excerpt-one');
        const articles = [];
        cards.forEach(card => {
          // 标题
          const titleEl = card.querySelector('.posts-default-title h2 a');
          const title = titleEl ? titleEl.textContent.trim() : '';
          const link = titleEl ? titleEl.getAttribute('href') : '#';
          // 简介
          const descEl = card.querySelector('.posts-text');
          const desc = descEl ? descEl.textContent.trim() : '';
          // 图片
          const imgEl = card.querySelector('img.thumb');
          const img = imgEl ? imgEl.getAttribute('src') : '';
          // 分类
          const catEls = card.querySelectorAll('.post-entry-categories a');
          const cats = Array.from(catEls).map(a => a.textContent.trim());
          // 作者
          const authorEl = card.querySelector('.post-author a');
          const author = authorEl ? authorEl.textContent.trim() : '';
          // 时间
          const dateEl = card.querySelector('.ico-time');
          const date = dateEl ? dateEl.textContent.replace(/^[^\\d]*/, '').trim() : '';
          // 来源页面
          const source = url;
          articles.push({ title, link, desc, img, cats, author, date, source });
        });
        return articles;
      } catch (e) {
        console.error(`抓取${url}失败`, e);
        return [];
      }
    }

    // 2. 从所有页面获取文章
    async function fetchAllArticles() {
      const pages = ['index.html', 'index2.html', 'renwu.html'];
      const allArticles = [];
      
      for (const page of pages) {
        const articles = await fetchArticlesFromPage(page);
        allArticles.push(...articles);
      }
      
      return allArticles;
    }

    // 3. 渲染函数
    function renderResults(list) {
      const resultBox = document.getElementById('search-result-list');
      resultBox.innerHTML = '';
      if (list.length === 0) {
        document.getElementById('no-result').style.display = '';
        return;
      }
      document.getElementById('no-result').style.display = 'none';
      list.forEach(item => {
        resultBox.innerHTML += `
          <div class="ajax-load-con content excerpt-one">
            <div class="content-box posts-image-box">
              <div class="posts-default-title">
                <div class="post-entry-categories">
                  ${item.cats.map(cat => `<a href="#">${cat}</a>`).join('')}
                </div>
                <h2><a href="${item.link}" title="${item.title}">${item.title}</a></h2>
              </div>
              <p class="focus">
                <a href="${item.link}" class="thumbnail">
                  <span class="item"><span class="thumb-span"><img src="${item.img}" class="thumb"></span></span>
                </a>
              </p>
              <div class="posts-default-content">
                <div class="posts-text">${item.desc}</div>
                <div class="posts-default-info">
                  <ul>
                    <li class="post-author">
                      <div class="avatar"><img alt='' srcset='template/pc/skin/img/admin.png' class='avatar avatar-96 photo' height='96' width='96'></div>
                      <a> ${item.author}</a>
                    </li>
                    <li class="ico-cat"><i class="icon-list-2"></i> <a href="renwu.html">${item.cats[0] || ''}</a></li>
                    <li class="ico-time"><i class="icon-clock-1"></i> ${item.date}</li>
                    <li class="ico-like"><i class="icon-heart"></i> 999+ </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        `;
      });
    }

    // 4. 搜索逻辑
    function doSearch(keyword, articles) {
      keyword = keyword.trim().toLowerCase();
      if (!keyword) {
        renderResults(articles); // 无关键词时显示全部
        return;
      }
      const result = articles.filter(item =>
        item.title.toLowerCase().includes(keyword) ||
        item.desc.toLowerCase().includes(keyword) ||
        item.cats.some(cat => cat.toLowerCase().includes(keyword)) ||
        item.author.toLowerCase().includes(keyword)
      );
      renderResults(result);
    }

    // 5. 页面加载时抓取并初始化
    let globalArticles = [];
    fetchAllArticles().then(articles => {
      globalArticles = articles;
      console.log(`成功加载 ${articles.length} 篇文章`);
      
      // 自动填充搜索框
      const url = new URL(window.location.href);
      const kw = url.searchParams.get('keywords') || '';
      document.getElementById('search-keywords').value = kw;
      doSearch(kw, globalArticles);

      // 监听表单
      document.querySelector('.sidebar-search').addEventListener('submit', function(e) {
        e.preventDefault();
        const kw = document.getElementById('search-keywords').value;
        doSearch(kw, globalArticles);
      });
    });
    </script>
</body>
</html> 